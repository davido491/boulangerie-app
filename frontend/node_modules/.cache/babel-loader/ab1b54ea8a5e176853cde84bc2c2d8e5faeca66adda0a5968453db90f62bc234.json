{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sebas\\\\boulangerie-app\\\\frontend\\\\src\\\\components\\\\SalesInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport useProductList from '../hooks/useProductList';\nimport '../styles/SalesInterface.css'; // Nous créerons ce fichier CSS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SalesInterface = () => {\n  _s();\n  const {\n    filteredAndSortedProducts,\n    loading,\n    error\n  } = useProductList();\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(0);\n  const addToCart = useCallback(product => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item._id === product._id);\n      if (existingItem) {\n        return prevCart.map(item => item._id === product._id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      } else {\n        return [...prevCart, {\n          ...product,\n          quantity: 1\n        }];\n      }\n    });\n    setTotal(prevTotal => prevTotal + product.price);\n  }, []);\n  const removeFromCart = useCallback(productId => {\n    setCart(prevCart => {\n      const updatedCart = prevCart.map(item => item._id === productId ? {\n        ...item,\n        quantity: item.quantity - 1\n      } : item).filter(item => item.quantity > 0);\n      const removedItem = prevCart.find(item => item._id === productId);\n      setTotal(prevTotal => prevTotal - removedItem.price);\n      return updatedCart;\n    });\n  }, []);\n  const finalizeSale = useCallback(() => {\n    // Ici, vous pouvez ajouter la logique pour enregistrer la vente\n    console.log('Vente finalisée:', cart, 'Total:', total);\n    setCart([]);\n    setTotal(0);\n  }, [cart, total]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Chargement des produits...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Erreur: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sales-interface\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-grid\",\n      children: filteredAndSortedProducts.map(product => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"product-item\",\n        onClick: () => addToCart(product),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [product.price.toFixed(2), \" \\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, product._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Panier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: cart.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.name, \" x \", item.quantity, \" - \", (item.price * item.quantity).toFixed(2), \" \\u20AC\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeFromCart(item._id),\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)]\n        }, item._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total\",\n        children: [\"Total: \", total.toFixed(2), \" \\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"finalize-sale\",\n        onClick: finalizeSale,\n        children: \"Finaliser la vente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(SalesInterface, \"7cb6b3+q+aIkrkWvtWrJ/Tr7gfQ=\", false, function () {\n  return [useProductList];\n});\n_c = SalesInterface;\nexport default SalesInterface;\nvar _c;\n$RefreshReg$(_c, \"SalesInterface\");","map":{"version":3,"names":["React","useState","useCallback","useProductList","jsxDEV","_jsxDEV","SalesInterface","_s","filteredAndSortedProducts","loading","error","cart","setCart","total","setTotal","addToCart","product","prevCart","existingItem","find","item","_id","map","quantity","prevTotal","price","removeFromCart","productId","updatedCart","filter","removedItem","finalizeSale","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","name","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/sebas/boulangerie-app/frontend/src/components/SalesInterface.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport useProductList from '../hooks/useProductList';\r\nimport '../styles/SalesInterface.css'; // Nous créerons ce fichier CSS\r\n\r\nconst SalesInterface = () => {\r\n  const { filteredAndSortedProducts, loading, error } = useProductList();\r\n  const [cart, setCart] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const addToCart = useCallback((product) => {\r\n    setCart(prevCart => {\r\n      const existingItem = prevCart.find(item => item._id === product._id);\r\n      if (existingItem) {\r\n        return prevCart.map(item => \r\n          item._id === product._id \r\n            ? { ...item, quantity: item.quantity + 1 } \r\n            : item\r\n        );\r\n      } else {\r\n        return [...prevCart, { ...product, quantity: 1 }];\r\n      }\r\n    });\r\n    setTotal(prevTotal => prevTotal + product.price);\r\n  }, []);\r\n\r\n  const removeFromCart = useCallback((productId) => {\r\n    setCart(prevCart => {\r\n      const updatedCart = prevCart.map(item => \r\n        item._id === productId \r\n          ? { ...item, quantity: item.quantity - 1 } \r\n          : item\r\n      ).filter(item => item.quantity > 0);\r\n      \r\n      const removedItem = prevCart.find(item => item._id === productId);\r\n      setTotal(prevTotal => prevTotal - removedItem.price);\r\n      \r\n      return updatedCart;\r\n    });\r\n  }, []);\r\n\r\n  const finalizeSale = useCallback(() => {\r\n    // Ici, vous pouvez ajouter la logique pour enregistrer la vente\r\n    console.log('Vente finalisée:', cart, 'Total:', total);\r\n    setCart([]);\r\n    setTotal(0);\r\n  }, [cart, total]);\r\n\r\n  if (loading) return <div>Chargement des produits...</div>;\r\n  if (error) return <div>Erreur: {error}</div>;\r\n\r\n  return (\r\n    <div className=\"sales-interface\">\r\n      <div className=\"product-grid\">\r\n        {filteredAndSortedProducts.map(product => (\r\n          <button \r\n            key={product._id} \r\n            className=\"product-item\"\r\n            onClick={() => addToCart(product)}\r\n          >\r\n            <div>{product.name}</div>\r\n            <div>{product.price.toFixed(2)} €</div>\r\n          </button>\r\n        ))}\r\n      </div>\r\n      <div className=\"cart-section\">\r\n        <h2>Panier</h2>\r\n        <ul>\r\n          {cart.map(item => (\r\n            <li key={item._id}>\r\n              {item.name} x {item.quantity} - {(item.price * item.quantity).toFixed(2)} €\r\n              <button onClick={() => removeFromCart(item._id)}>-</button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div className=\"total\">Total: {total.toFixed(2)} €</div>\r\n        <button className=\"finalize-sale\" onClick={finalizeSale}>Finaliser la vente</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalesInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}