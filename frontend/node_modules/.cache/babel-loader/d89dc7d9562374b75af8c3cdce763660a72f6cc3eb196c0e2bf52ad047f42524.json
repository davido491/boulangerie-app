{"ast":null,"code":"import React,{memo}from'react';import'../styles/ProductList.css';import useProductList from'../hooks/useProductList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=/*#__PURE__*/memo(function ProductList(){const{loading,error,nameFilter,maxPriceFilter,sortOrder,filteredAndSortedProducts,deletingProductId,setNameFilter,handleMaxPriceChange,setSortOrder,handleDeleteProduct,fetchProducts}=useProductList();if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Chargement...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[\"Erreur : \",error,/*#__PURE__*/_jsx(\"button\",{onClick:fetchProducts,children:\"R\\xE9essayer\"})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name-filter\",children:\"Filtrer par nom:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name-filter\",type:\"text\",value:nameFilter,onChange:e=>setNameFilter(e.target.value),placeholder:\"Nom du produit\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price-filter\",children:\"Prix maximum:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"price-filter\",type:\"number\",value:maxPriceFilter,onChange:handleMaxPriceChange,placeholder:\"Prix maximum\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sort-order\",children:\"Trier par:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"sort-order\",value:sortOrder,onChange:e=>setSortOrder(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Aucun tri\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Prix : Croissant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Prix : D\\xE9croissant\"})]})]}),filteredAndSortedProducts.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Aucun produit trouv\\xE9.\"}):/*#__PURE__*/_jsx(\"ul\",{children:filteredAndSortedProducts.map(product=>/*#__PURE__*/_jsxs(\"li\",{children:[product.name,\" - \",product.price.toFixed(2),\"\\u20AC\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProduct(product._id),disabled:deletingProductId===product._id,children:deletingProductId===product._id?'Suppression...':'Supprimer'})]},product._id))}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchProducts,children:\"Rafra\\xEEchir les produits\"})]});});export default ProductList;","map":{"version":3,"names":["React","memo","useProductList","jsx","_jsx","jsxs","_jsxs","ProductList","loading","error","nameFilter","maxPriceFilter","sortOrder","filteredAndSortedProducts","deletingProductId","setNameFilter","handleMaxPriceChange","setSortOrder","handleDeleteProduct","fetchProducts","className","children","onClick","htmlFor","id","type","value","onChange","e","target","placeholder","length","map","product","name","price","toFixed","_id","disabled"],"sources":["C:/Users/sebas/boulangerie-app/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { memo } from 'react';\r\nimport '../styles/ProductList.css';\r\nimport useProductList from '../hooks/useProductList';\r\n\r\nconst ProductList = memo(function ProductList() {\r\n  const {\r\n    loading,\r\n    error,\r\n    nameFilter,\r\n    maxPriceFilter,\r\n    sortOrder,\r\n    filteredAndSortedProducts,\r\n    deletingProductId,\r\n    setNameFilter,\r\n    handleMaxPriceChange,\r\n    setSortOrder,\r\n    handleDeleteProduct,\r\n    fetchProducts\r\n  } = useProductList();\r\n\r\n  if (loading) return <div className=\"loading\">Chargement...</div>;\r\n  if (error) return (\r\n    <div className=\"error\">\r\n      Erreur : {error}\r\n      <button onClick={fetchProducts}>Réessayer</button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"product-list\">\r\n      <div className=\"filters\">\r\n        <label htmlFor=\"name-filter\">Filtrer par nom:</label>\r\n        <input\r\n          id=\"name-filter\"\r\n          type=\"text\"\r\n          value={nameFilter}\r\n          onChange={(e) => setNameFilter(e.target.value)}\r\n          placeholder=\"Nom du produit\"\r\n        />\r\n        <label htmlFor=\"price-filter\">Prix maximum:</label>\r\n        <input\r\n          id=\"price-filter\"\r\n          type=\"number\"\r\n          value={maxPriceFilter}\r\n          onChange={handleMaxPriceChange}\r\n          placeholder=\"Prix maximum\"\r\n        />\r\n        <label htmlFor=\"sort-order\">Trier par:</label>\r\n        <select id=\"sort-order\" value={sortOrder} onChange={(e) => setSortOrder(e.target.value)}>\r\n          <option value=\"\">Aucun tri</option>\r\n          <option value=\"asc\">Prix : Croissant</option>\r\n          <option value=\"desc\">Prix : Décroissant</option>\r\n        </select>\r\n      </div>\r\n      {filteredAndSortedProducts.length === 0 ? (\r\n        <p>Aucun produit trouvé.</p>\r\n      ) : (\r\n        <ul>\r\n          {filteredAndSortedProducts.map((product) => (\r\n            <li key={product._id}>\r\n              {product.name} - {product.price.toFixed(2)}€\r\n              <button \r\n                onClick={() => handleDeleteProduct(product._id)}\r\n                disabled={deletingProductId === product._id}\r\n              >\r\n                {deletingProductId === product._id ? 'Suppression...' : 'Supprimer'}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      <button onClick={fetchProducts}>Rafraîchir les produits</button>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ProductList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}